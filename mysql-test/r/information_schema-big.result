DROP TABLE IF EXISTS t0,t1,t2,t3,t4,t5;
DROP VIEW IF EXISTS v1;
#
# Bug#18925: subqueries with MIN/MAX functions on INFORMARTION_SCHEMA 
#
SELECT t.table_name, c1.column_name
FROM information_schema.tables t
INNER JOIN
information_schema.columns c1
ON t.table_schema = c1.table_schema AND
t.table_name = c1.table_name
WHERE t.table_schema = 'information_schema' AND
c1.ordinal_position =
( SELECT COALESCE(MIN(c2.ordinal_position),1)
FROM information_schema.columns c2
WHERE c2.table_schema = t.table_schema AND
c2.table_name = t.table_name AND
c2.column_name LIKE '%SCHEMA%'
        )
AND t.table_name NOT LIKE 'innodb%';
table_name	column_name
CHARACTER_SETS	CHARACTER_SET_NAME
COLLATIONS	COLLATION_NAME
COLLATION_CHARACTER_SET_APPLICABILITY	COLLATION_NAME
COLUMNS	TABLE_SCHEMA
COLUMN_PRIVILEGES	TABLE_SCHEMA
ENGINES	ENGINE
EVENTS	EVENT_SCHEMA
FILES	TABLE_SCHEMA
GLOBAL_STATUS	VARIABLE_NAME
GLOBAL_VARIABLES	VARIABLE_NAME
KEY_COLUMN_USAGE	CONSTRAINT_SCHEMA
PARAMETERS	SPECIFIC_SCHEMA
PARTITIONS	TABLE_SCHEMA
PLUGINS	PLUGIN_NAME
PROCESSLIST	ID
PROFILING	QUERY_ID
REFERENTIAL_CONSTRAINTS	CONSTRAINT_SCHEMA
ROUTINES	ROUTINE_SCHEMA
SCHEMATA	SCHEMA_NAME
SCHEMA_PRIVILEGES	TABLE_SCHEMA
SESSION_STATUS	VARIABLE_NAME
SESSION_VARIABLES	VARIABLE_NAME
STATISTICS	TABLE_SCHEMA
TABLES	TABLE_SCHEMA
TABLESPACES	TABLESPACE_NAME
TABLE_CONSTRAINTS	CONSTRAINT_SCHEMA
TABLE_PRIVILEGES	TABLE_SCHEMA
TRIGGERS	TRIGGER_SCHEMA
USER_PRIVILEGES	GRANTEE
VIEWS	TABLE_SCHEMA
TNT_TNT_INNER_TRANSACTION_STATS	TRXID
TNT_NTSE_BUF_DISTRIBUTION	TABLE_SCHEMA
TNT_NTSE_HEAP_STATS_EX	TABLE_SCHEMA
TNT_NTSE_COLUMN_DEF_EX	TABLE_SCHEMA
TokuDB_fractal_tree_block_map	dictionary_name
TNT_NTSE_CONNECTIONS	ID
TNT_NTSE_MUTEX_STATS	FILE
TokuDB_user_data_exact	database_name
TokuDB_file_map	dictionary_name
TNT_NTSE_LOB_STATS	TABLE_SCHEMA
TNT_TNT_TRANSACTION_SYS_STATS	COMMIT_NORMAL
TNT_NTSE_MMS_RPCLS_STATS	TABLE_SCHEMA
TNT_NTSE_LOB_STATS_EX	TABLE_SCHEMA
TNT_NTSE_TABLE_STATS	TABLE_SCHEMA
TNT_TNT_INDEX_STATS	SCHEMA_NAME
TNT_NTSE_MMS_STATS	TABLE_SCHEMA
TNT_TNT_HASH_INDEX_STATS	SCHEMA_NAME
TNT_NTSE_INTENTION_LOCK_STATS	FILE
TNT_TNT_TRANSACTION_STATS	TRXID
TNT_NTSE_TABLE_DEF_EX	TABLE_SCHEMA
TNT_NTSE_MMS_RIDHASH_CONFLICTS	TABLE_SCHEMA
TNT_NTSE_INDEX_DEF_EX	TABLE_SCHEMA
TNT_NTSE_INDEX_STATS	TABLE_SCHEMA
TNT_NTSE_COMMAND_RETURN	COMMAND
TokuDB_fractal_tree_info	dictionary_name
TNT_NTSE_INDEX_STATS_EX	TABLE_SCHEMA
TNT_TNT_MEMORY_INDEX_STATS	SCHEMA_NAME
TNT_TNT_MHEAP_STATS	SCHEMA_NAME
TNT_NTSE_HEAP_STATS	TABLE_SCHEMA
TNT_NTSE_COMPRESS_STATS	SCHEMA_NAME
TNT_NTSE_DBOBJ_STATS	SCHEMA_NAME
TokuDB_user_data	database_name
TNT_NTSE_RWLOCK_STATS	FILE
SELECT t.table_name, c1.column_name
FROM information_schema.tables t
INNER JOIN
information_schema.columns c1
ON t.table_schema = c1.table_schema AND
t.table_name = c1.table_name
WHERE t.table_schema = 'information_schema' AND
c1.ordinal_position =
( SELECT COALESCE(MIN(c2.ordinal_position),1)
FROM information_schema.columns c2
WHERE c2.table_schema = 'information_schema' AND
c2.table_name = t.table_name AND
c2.column_name LIKE '%SCHEMA%'
        )
AND t.table_name NOT LIKE 'innodb%';
table_name	column_name
CHARACTER_SETS	CHARACTER_SET_NAME
COLLATIONS	COLLATION_NAME
COLLATION_CHARACTER_SET_APPLICABILITY	COLLATION_NAME
COLUMNS	TABLE_SCHEMA
COLUMN_PRIVILEGES	TABLE_SCHEMA
ENGINES	ENGINE
EVENTS	EVENT_SCHEMA
FILES	TABLE_SCHEMA
GLOBAL_STATUS	VARIABLE_NAME
GLOBAL_VARIABLES	VARIABLE_NAME
KEY_COLUMN_USAGE	CONSTRAINT_SCHEMA
PARAMETERS	SPECIFIC_SCHEMA
PARTITIONS	TABLE_SCHEMA
PLUGINS	PLUGIN_NAME
PROCESSLIST	ID
PROFILING	QUERY_ID
REFERENTIAL_CONSTRAINTS	CONSTRAINT_SCHEMA
ROUTINES	ROUTINE_SCHEMA
SCHEMATA	SCHEMA_NAME
SCHEMA_PRIVILEGES	TABLE_SCHEMA
SESSION_STATUS	VARIABLE_NAME
SESSION_VARIABLES	VARIABLE_NAME
STATISTICS	TABLE_SCHEMA
TABLES	TABLE_SCHEMA
TABLESPACES	TABLESPACE_NAME
TABLE_CONSTRAINTS	CONSTRAINT_SCHEMA
TABLE_PRIVILEGES	TABLE_SCHEMA
TRIGGERS	TRIGGER_SCHEMA
USER_PRIVILEGES	GRANTEE
VIEWS	TABLE_SCHEMA
TNT_TNT_INNER_TRANSACTION_STATS	TRXID
TNT_NTSE_BUF_DISTRIBUTION	TABLE_SCHEMA
TNT_NTSE_HEAP_STATS_EX	TABLE_SCHEMA
TNT_NTSE_COLUMN_DEF_EX	TABLE_SCHEMA
TokuDB_fractal_tree_block_map	dictionary_name
TNT_NTSE_CONNECTIONS	ID
TNT_NTSE_MUTEX_STATS	FILE
TokuDB_user_data_exact	database_name
TokuDB_file_map	dictionary_name
TNT_NTSE_LOB_STATS	TABLE_SCHEMA
TNT_TNT_TRANSACTION_SYS_STATS	COMMIT_NORMAL
TNT_NTSE_MMS_RPCLS_STATS	TABLE_SCHEMA
TNT_NTSE_LOB_STATS_EX	TABLE_SCHEMA
TNT_NTSE_TABLE_STATS	TABLE_SCHEMA
TNT_TNT_INDEX_STATS	SCHEMA_NAME
TNT_NTSE_MMS_STATS	TABLE_SCHEMA
TNT_TNT_HASH_INDEX_STATS	SCHEMA_NAME
TNT_NTSE_INTENTION_LOCK_STATS	FILE
TNT_TNT_TRANSACTION_STATS	TRXID
TNT_NTSE_TABLE_DEF_EX	TABLE_SCHEMA
TNT_NTSE_MMS_RIDHASH_CONFLICTS	TABLE_SCHEMA
TNT_NTSE_INDEX_DEF_EX	TABLE_SCHEMA
TNT_NTSE_INDEX_STATS	TABLE_SCHEMA
TNT_NTSE_COMMAND_RETURN	COMMAND
TokuDB_fractal_tree_info	dictionary_name
TNT_NTSE_INDEX_STATS_EX	TABLE_SCHEMA
TNT_TNT_MEMORY_INDEX_STATS	SCHEMA_NAME
TNT_TNT_MHEAP_STATS	SCHEMA_NAME
TNT_NTSE_HEAP_STATS	TABLE_SCHEMA
TNT_NTSE_COMPRESS_STATS	SCHEMA_NAME
TNT_NTSE_DBOBJ_STATS	SCHEMA_NAME
TokuDB_user_data	database_name
TNT_NTSE_RWLOCK_STATS	FILE
